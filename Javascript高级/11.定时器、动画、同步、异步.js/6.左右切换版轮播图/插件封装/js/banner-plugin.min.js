"use strict";function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}();~function(){var t=function(){function t(i){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,t),this.initialParams(e),!i)throw new ReferenceError("The first selector parameter must be passed~~");if("string"==typeof i?this.container=document.querySelector(i):i.nodeType&&(this.container=i),this.wrapper=this.container.querySelector(".wrapper"),this.slideList=this.wrapper.querySelectorAll(".slide"),this.autoTimer=null,this.activeIndex=this.initialSlide,this.count=this.slideList.length,[].forEach.call(this.slideList,function(t,i){if(i===n.initialSlide)return t.style.zIndex=1,void(t.style.opacity=1);t.style.zIndex=0,t.style.opacity=0}),this.autoplay){var a=this.autoMove.bind(this);this.autoTimer=setInterval(a,this.autoplay),this.container.addEventListener("mouseenter",function(){clearInterval(n.autoTimer)}),this.container.addEventListener("mouseleave",function(){n.autoTimer=setInterval(a,n.autoplay)})}this.pagination&&this.pagination.el&&this.handlePagination(),this.navigation&&this.handleButton(),this.on&&this.on.init&&this.on.init.call(this,this)}return _createClass(t,[{key:"initialParams",value:function(t){var i={initialSlide:0,speed:300,autoplay:3e3,pagination:{el:".pagination",triggerEvent:"click"},navigation:{nextEl:".button-next",prevEl:".button-prev",hide:!0},on:{init:function(t){},transitionStart:function(t){},transitionEnd:function(t){}}};for(var n in t){if(!t.hasOwnProperty(n))break;/^(pagination|navigation|on)$/i.test(n)||(i[n]=t[n])}var e=t.pagination;if(null!==e){e=e||{};for(var a in e){if(!e.hasOwnProperty(a))break;i.pagination[a]=e[a]}}else i.pagination=null;var o=t.navigation;if(null!==o){o=o||{};for(var s in o){if(!o.hasOwnProperty(s))break;i.navigation[s]=o[s]}}else i.navigation=null;var r=t.on;if(null!==r){r=r||{};for(var l in r){if(!r.hasOwnProperty(l))break;i.on[l]=r[l]}}else i.on=null;for(var c in i){if(!i.hasOwnProperty(c))break;this[c]=i[c]}}},{key:"change",value:function(){var t=this;[].forEach.call(this.slideList,function(i,n){if(n===t.activeIndex)return i.style.transition="opacity "+t.speed+"ms",void(i.style.zIndex=1);i.style.transition="opacity 0ms",i.style.zIndex=0}),this.on&&this.on.transitionStart&&this.on.transitionStart.call(this,this);var i=this.slideList[this.activeIndex];i.style.opacity=1,i.addEventListener("transitionend",function(){[].forEach.call(t.slideList,function(i,n){n!==t.activeIndex&&(i.style.opacity=0)}),t.on&&t.on.transitionEnd&&t.on.transitionEnd.call(t,t)}),this.paginationList&&[].forEach.call(this.paginationList,function(i,n){if(n===t.activeIndex)return void(i.className="active");i.className=""})}},{key:"autoMove",value:function(){this.activeIndex++,this.activeIndex>=this.count&&(this.activeIndex=0),this.change()}},{key:"handlePagination",value:function(){var i=this;this.paginationBox=this.container.querySelector(this.pagination.el);for(var n="",e=0;e<this.count;e++)n+="<span class='"+(e===this.activeIndex?"active":"")+"'></span>";this.paginationBox.innerHTML=n,this.paginationList=this.paginationBox.querySelectorAll("span"),this.pagination.triggerEvent&&[].forEach.call(this.paginationList,function(n,e){n.addEventListener(i.pagination.triggerEvent,t.throttle(function(){i.activeIndex=e,i.change()},500))})}},{key:"handleButton",value:function(){var i=this;this.prevEl=this.container.querySelector(this.navigation.prevEl),this.prevEl.addEventListener("click",t.throttle(function(){i.activeIndex--,i.activeIndex<0&&(i.activeIndex=i.count-1),i.change()},500)),this.nextEl=this.container.querySelector(this.navigation.nextEl),this.nextEl.addEventListener("click",t.throttle(this.autoMove.bind(this),500)),this.navigation.hide&&(this.prevEl.style.display="none",this.nextEl.style.display="none",this.container.addEventListener("mouseenter",function(){i.prevEl.style.display="block",i.nextEl.style.display="block"}),this.container.addEventListener("mouseleave",function(){i.prevEl.style.display="none",i.nextEl.style.display="none"}))}}],[{key:"throttle",value:function(t,i){var n=null,e=null,a=0;return function(){for(var o=arguments.length,s=Array(o),r=0;r<o;r++)s[r]=arguments[r];var l=this,c=new Date,h=i-(c-a);return h<=0?(e=t.call.apply(t,[l].concat(s)),clearTimeout(n),n=null,a=c):n||(n=setTimeout(function(){e=t.call.apply(t,[l].concat(s)),n=null,a=new Date},h)),e}}}]),t}();window.Banner=t}();